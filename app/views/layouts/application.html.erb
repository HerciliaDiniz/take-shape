<!DOCTYPE html>
<html>
  <head>
    <title>TakeShape</title>
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <link rel="stylesheet" href="https://unpkg.com/tachyons@4.9.1/css/tachyons.min.css"/>
    <script src="https://js.stripe.com/v3/"></script>
    
    <%= stylesheet_link_tag 'application', media: 'all' %>
    <%= javascript_include_tag 'application' %>
    <%= javascript_pack_tag 'application' %>
    
  </head>

  <body>
    <header class="bg-white black-80 tc pv2 avenir">
      <a href="/" class="logo bg-black-80 ba b--black dib pa3 w2 h2 br-100"></a>
      <h1 class="mt2 mb0 baskerville i fw1 f1">Take Shape</h1>
    </header>  

    <nav>
      <ul class="primary">
        <li>
          <a href="">Start Shaping</a>
          <ul class="sub">
            <li><%= link_to 'Arts', arts_path %></li>
            <li><%= link_to 'Items', items_path %></li>
            <li><%= link_to 'Final Product', final_products_path %></li>
          </ul>
        </li>
        <li><%= link_to 'Contact Us', contact_us_path %></li>
        <li><%= link_to 'Home', root_path %></li>
        <% if current_user.present? %>
          <span>Hi, <%= current_user.first_name%>!</span>
          <li>    
            <%= link_to 'Sign Out', session_path, method: :delete %>
          </li>
        <% else %>
          <li><%= link_to 'Sign In', new_session_path %></li> 
          <li><%= link_to 'Sign Up', new_user_path %></li> 
        <% end %>
          </li>
      </ul>
    </nav>

  <% flash.each do |type, msg| %>
    <div class="alert alert-<%= type == "alert" ? "danger" : "success" %> alert-dismissible fade show" role="alert">
      <%= msg.html_safe %>
      <button type="button" class="close" data-dismiss="alert" aria-label="Close">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
  <% end %>
          
    <%= yield %>

  </body>
</html>
